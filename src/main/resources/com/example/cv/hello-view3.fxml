<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<VBox alignment="CENTER" prefHeight="600.0" prefWidth="800.0" spacing="20.0" styleClass="root" stylesheets="@welcome_page.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.cv.HelloController">
    <children>
        <Label styleClass="title-label" text="Manage and View Saved CV Entries" />

        <VBox maxWidth="350.0" spacing="10.0">
            <Label style="-fx-text-fill: white; -fx-font-size: 14px;" text="Use fields below to find an entry for Update/Delete:" />
            <children>
                <TextField fx:id="manageFullNameField" promptText="Full Name (Key)" />
                <TextField fx:id="manageEmailField" promptText="Email Address (Key)" />
            </children>
        </VBox>

        <VBox alignment="CENTER" spacing="10.0">
            <Button onAction="#delete_cv_data" style="-fx-background-color: #E74C3C;" styleClass="button" text="DELETE CV DATA" />
            <Button onAction="#update_cv_data" styleClass="button" text="Update CV DATA" />
            <Button onAction="#loadSavedCvList" mnemonicParsing="false" styleClass="button" text="Load All Saved CVs" />
        </VBox>

        <TableView fx:id="cvTable" prefHeight="250.0" prefWidth="700.0" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn text="Full Name" prefWidth="150.0">
                    <cellValueFactory><PropertyValueFactory property="fullname" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Email" prefWidth="250.0">
                    <cellValueFactory><PropertyValueFactory property="email" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Phone" prefWidth="150.0">
                    <cellValueFactory><PropertyValueFactory property="phone" /></cellValueFactory>
                </TableColumn>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>

        <Button onAction="#viewSelectedCv" styleClass="button" text="View Selected CV" />

        <Button onAction="#switch_to_scene1" styleClass="button" text="Back to Home">
            <VBox.margin>
                <Insets top="10.0" />
            </VBox.margin>
        </Button>
    </children>
    <padding>
        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
    </padding>
</VBox>